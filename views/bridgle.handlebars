<!--  bridgle -->
{{> loader}}
{{> report}}

<div id="header">
	<h1 id="title">Word Bridgle</h1>
	{{!-- <button id="home-btn" class="big-btn bridgle" onclick={location.href="/"}>home</button> --}}
	<a href="/" class="btn">home</a>
</div>

<div id="bridgle">
	<div id="nodes">
		<div class="node" id="remove-first-node">
			<div class="word">
				{{start}} â†’ {{end}}
			</div>
		</div>
	</div>

	<p id="synonym-instructions"><span id="choose">Choose a synonym of "{{start}}".</span>  <br>Click synonyms for definitions.</p>

	<div id="synonyms">
		{{#each startSynonyms}}
		<button class="word big-btn synonym" data-word="{{this}}" data-synonym="{{../start}}" onclick={B.getDef(this);}>
			{{this}}
		</button>
		{{/each}}
	</div>

	<div id="next-synonyms">
		synonyms of "{{startSynonyms.[0]}}": 
		{{#with (lookup startSynSyns startSynonyms.[0]) as |syns|}}
			{{#each syns}}
				<button class="word big-btn synonym" data-word="{{this}}" data-synonym="{{../startSynonyms.[0]}}" 	onclick={B.getDef(this);}>{{this}}</button>
			{{/each}}
		{{/with}}
	</div>

	<div id="end-nodes"></div>

	<p id="game-instructions">Connect these two words using synonyms. <br> Press play to begin.</p>
	<button class="big-btn" id="play-button">Play</button>

	<div id="input">
		<button class="big-btn" id="select-button">Select</button>
		<button class="prev" id="prev-button">
			<img src="/img/mod-left-arrow.svg" alt="">
		</button>
		<button class="next" id="next-button">
			<img src="/img/mod-right-arrow.svg" alt="">
		</button>
	</div>
</div>

<script type="text/javascript">
	/* check hash to reroute */
	if (location.hash) {
		location.href = `${location.origin}/bridge?qs=${location.hash.replace('#', '')}`;
	}
	window.B = {}; // need B for helpers
	B.isBridgle = true;
	B.start = "{{{start}}}";
	B.end = "{{{end}}}";
	B.matches = '{{{endSyonyms}}}'.split(',');
</script>
<script src="/js/helpers.js"></script>
<script src="/js/bridge.js"></script>
<script src="/js/def.js"></script>
<script src="/js/bridgle.js"></script>



